{"ast":null,"code":"var _jsxFileName = \"/home/uki-jaffna/biddingweb/frontend/src/components/ViewerDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ViewerDashboard() {\n  _s();\n  const [auctions, setAuctions] = useState([]); // State to hold the auctions data\n  const [loading, setLoading] = useState(true); // State to handle loading\n  const [error, setError] = useState(null); // State for error handling\n\n  useEffect(() => {\n    // Prevent page reload on first visit\n    if (!sessionStorage.getItem('hasVisited')) {\n      sessionStorage.setItem('hasVisited', 'true');\n      window.location.reload();\n    }\n  }, []);\n  useEffect(() => {\n    // Fetch auctions from the API endpoint\n    axios.get('http://localhost:5000/api/auctions/') // Connect to the API endpoint\n    .then(response => {\n      setAuctions(response.data); // Store auction data in state\n      setLoading(false); // Set loading to false when data is fetched\n    }).catch(err => {\n      setError('Failed to fetch auctions'); // Handle errors\n      setLoading(false);\n      console.error('Error fetching auctions:', err); // Log the error for debugging\n    });\n  }); // Empty dependency array means this effect runs once when the component mounts\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }, this); // Show loading message while data is being fetched\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }, this); // Display error message if fetching fails\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Viewer Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), auctions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: auctions.map(auction => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auction-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: auction.tournamentName || 'No Tournament Name'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Leader Email: \", auction.leaderEmail || 'No Leader Email']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total Points per Team: \", auction.bidPointsPerTeam || 'No Points Data']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Teams\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this), auction.teams && auction.teams.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: auction.teams.map(team => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Team Name: \", team.name || 'No Team Name']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Bid Points: \", team.bidPoints || 'No Bid Points']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Remaining Points: \", team.remainingBidPoints || 'No Remaining Points']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 23\n            }, this)]\n          }, team._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No teams available for this auction.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Players\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this), auction.players && auction.players.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: auction.players.map(playerId => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Player ID: \", playerId || 'No Player Data']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 23\n            }, this)\n          }, playerId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No players added to this auction yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), auction.image && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Auction Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: auction.image,\n            alt: \"Auction\",\n            width: \"200\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)]\n      }, auction._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No auctions found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this) // Message when no auctions are available\n    ]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(ViewerDashboard, \"ae1XFXRj7u5oIoB4vfJolt9F6vM=\");\n_c = ViewerDashboard;\nvar _c;\n$RefreshReg$(_c, \"ViewerDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","ViewerDashboard","_s","auctions","setAuctions","loading","setLoading","error","setError","sessionStorage","getItem","setItem","window","location","reload","get","then","response","data","catch","err","console","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","auction","className","tournamentName","leaderEmail","bidPointsPerTeam","teams","team","name","bidPoints","remainingBidPoints","_id","players","playerId","image","src","alt","width","_c","$RefreshReg$"],"sources":["/home/uki-jaffna/biddingweb/frontend/src/components/ViewerDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport default function ViewerDashboard() {\n  const [auctions, setAuctions] = useState([]); // State to hold the auctions data\n  const [loading, setLoading] = useState(true); // State to handle loading\n  const [error, setError] = useState(null); // State for error handling\n\n  useEffect(() => {\n    // Prevent page reload on first visit\n    if (!sessionStorage.getItem('hasVisited')) {\n      sessionStorage.setItem('hasVisited', 'true');\n      window.location.reload();\n    }\n  }, []);\n\n  useEffect(() => {\n    // Fetch auctions from the API endpoint\n    axios\n      .get('http://localhost:5000/api/auctions/') // Connect to the API endpoint\n      .then((response) => {\n        setAuctions(response.data); // Store auction data in state\n        setLoading(false); // Set loading to false when data is fetched\n      })\n      .catch((err) => {\n        setError('Failed to fetch auctions'); // Handle errors\n        setLoading(false);\n        console.error('Error fetching auctions:', err); // Log the error for debugging\n      });\n  }, ); // Empty dependency array means this effect runs once when the component mounts\n\n  if (loading) {\n    return <div>Loading...</div>; // Show loading message while data is being fetched\n  }\n\n  if (error) {\n    return <div>{error}</div>; // Display error message if fetching fails\n  }\n\n  return (\n    <div>\n      <h1>Viewer Dashboard</h1>\n      {auctions.length > 0 ? (\n        <div>\n          {auctions.map((auction) => (\n            <div key={auction._id} className=\"auction-card\">\n              <h2>{auction.tournamentName || 'No Tournament Name'}</h2>\n              <p>Leader Email: {auction.leaderEmail || 'No Leader Email'}</p>\n              <p>Total Points per Team: {auction.bidPointsPerTeam || 'No Points Data'}</p>\n\n              {/* Teams Section */}\n              <h3>Teams</h3>\n              {auction.teams && auction.teams.length > 0 ? (\n                <ul>\n                  {auction.teams.map((team) => (\n                    <li key={team._id}>\n                      <p>Team Name: {team.name || 'No Team Name'}</p>\n                      <p>Bid Points: {team.bidPoints || 'No Bid Points'}</p>\n                      <p>Remaining Points: {team.remainingBidPoints || 'No Remaining Points'}</p>\n                    </li>\n                  ))}\n                </ul>\n              ) : (\n                <p>No teams available for this auction.</p>\n              )}\n\n              {/* Players Section */}\n              <h3>Players</h3>\n              {auction.players && auction.players.length > 0 ? (\n                <ul>\n                  {auction.players.map((playerId) => (\n                    <li key={playerId}>\n                      <p>Player ID: {playerId || 'No Player Data'}</p>\n                    </li>\n                  ))}\n                </ul>\n              ) : (\n                <p>No players added to this auction yet.</p>\n              )}\n\n              {/* Image Section */}\n              {auction.image && (\n                <div>\n                  <h3>Auction Image</h3>\n                  <img src={auction.image} alt=\"Auction\" width=\"200\" />\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      ) : (\n        <p>No auctions found.</p> // Message when no auctions are available\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}