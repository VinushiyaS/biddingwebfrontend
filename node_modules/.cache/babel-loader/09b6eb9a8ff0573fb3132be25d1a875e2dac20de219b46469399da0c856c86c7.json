{"ast":null,"code":"// // src/components/Login.js\n// import React, { useState, useContext } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { loginUser } from '../api';\n// import { AuthContext } from '../context/AuthContext';\n\n// const Login = () => {\n//     const [formData, setFormData] = useState({ email: '', password: '', role: 'viewer' });\n//     const { login } = useContext(AuthContext);\n//     const navigate = useNavigate();\n\n//     const handleChange = (e) => {\n//         setFormData({ ...formData, [e.target.name]: e.target.value });\n//     };\n\n//     const handleSubmit = async (e) => {\n//         e.preventDefault();\n//         try {\n//             const { data } = await loginUser(formData);\n//             login(data.user);\n//             if (formData.role === 'viewer') navigate('/viewer-dashboard');\n//             else if (formData.role === 'leader') navigate('/payment');\n//             else if (formData.role === 'admin') navigate('/admin-dashboard');\n//         } catch (error) {\n//             console.error(\"Login failed\", error);\n//         }\n//     };\n\n//     return (\n//         <form onSubmit={handleSubmit}>\n//             <input type=\"email\" name=\"email\" onChange={handleChange} placeholder=\"Email\" required />\n//             <input type=\"password\" name=\"password\" onChange={handleChange} placeholder=\"Password\" required />\n//             <select name=\"role\" onChange={handleChange}>\n//                 <option value=\"viewer\">Viewer</option>\n//                 <option value=\"leader\">Leader</option>\n//                 <option value=\"admin\">Admin</option>\n//             </select>\n//             <button type=\"submit\">Log In</button>\n//         </form>\n//     );\n// };\n\n// export default Login;","map":{"version":3,"names":[],"sources":["/home/uki-jaffna/biddingweb/frontend/src/components/Login.js"],"sourcesContent":["// // src/components/Login.js\n// import React, { useState, useContext } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { loginUser } from '../api';\n// import { AuthContext } from '../context/AuthContext';\n\n// const Login = () => {\n//     const [formData, setFormData] = useState({ email: '', password: '', role: 'viewer' });\n//     const { login } = useContext(AuthContext);\n//     const navigate = useNavigate();\n\n//     const handleChange = (e) => {\n//         setFormData({ ...formData, [e.target.name]: e.target.value });\n//     };\n\n//     const handleSubmit = async (e) => {\n//         e.preventDefault();\n//         try {\n//             const { data } = await loginUser(formData);\n//             login(data.user);\n//             if (formData.role === 'viewer') navigate('/viewer-dashboard');\n//             else if (formData.role === 'leader') navigate('/payment');\n//             else if (formData.role === 'admin') navigate('/admin-dashboard');\n//         } catch (error) {\n//             console.error(\"Login failed\", error);\n//         }\n//     };\n\n//     return (\n//         <form onSubmit={handleSubmit}>\n//             <input type=\"email\" name=\"email\" onChange={handleChange} placeholder=\"Email\" required />\n//             <input type=\"password\" name=\"password\" onChange={handleChange} placeholder=\"Password\" required />\n//             <select name=\"role\" onChange={handleChange}>\n//                 <option value=\"viewer\">Viewer</option>\n//                 <option value=\"leader\">Leader</option>\n//                 <option value=\"admin\">Admin</option>\n//             </select>\n//             <button type=\"submit\">Log In</button>\n//         </form>\n//     );\n// };\n\n// export default Login;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}